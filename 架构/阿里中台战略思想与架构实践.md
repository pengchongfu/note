soa 两种形态：esb（企业服务总线）和微服务

- 数据拆分实现数据库能力线性扩展
1. 垂直分区
1. 读写分离
2. 水平分区
    - 数据异构索引

数据库事务的异步化
将大事务分拆成小事务，减少数据库记录的锁冲突。要考虑回滚和重试，保证数据最终一致

- CAP 理论
一致性、可用性、分区容忍性
- BASE 理论
1. BA 基本可用
2. 柔性状态
3. 最终一致性

分布式事务
- 传统分布式事务
    1. 两阶段提交（性能和吞吐量太低）
- 柔性事务
    1. 日志和补偿机制
    2. 可靠消息传递：至少一次，因此要实现幂等（实现：排重表）
    3. 实现无锁
        - 版本号实现乐观锁

柔性事务的实现
1. 通过消息队列实现（作为总线）
2. XTS框架
3. TXC