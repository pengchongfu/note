## 4.1 引言

## 4.2 逻辑设计的一般方法

状态单元在上升沿触发

## 4.3 建立数据通路

## 4.4 一个简单的实现机制

单周期实现由最长周期的指令（取数指令）决定时间，效率低

## 4.5 流水线

通常一个MIPS指令包含如下5个处理步骤
1. 指令存储器读取指令
2. 指令译码同时读取寄存器（MIPS指令格式支持同时）
3. 执行操作或计算地址
4. 从数据存储器中读取操作数
5. 将结果写回寄存器

如果流水线各阶段操作平衡
指令执行时间（流水线）=指令执行时间（非流水线）/流水线级数

3种冒险
- 结构冒险（没有足够的寄存器）
- 数据冒险（等待另一条指令完成）
- 分支冒险（取到的指令并不是需要的）

## 4.6 流水线数据通路及其控制

## 4.7 数据冒险与旁路

## 4.8 控制冒险

## 4.9 异常

两种方法表示产生异常的原因
1. 状态寄存器
2. 向量中断

## 4.10 指令级并行

## 4.11 实例：ARM

## 4.12 运行更快：指令级并行和矩阵乘法